(function(t){function e(e){for(var n,r,o=e[0],c=e[1],h=e[2],u=0,f=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,h||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/web-firework-simulation/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},2725:function(t,e,i){"use strict";var n=i("c82f"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("night-sky",{attrs:{coefficients:t.coefficients}}),i("control-panel",{attrs:{coefficients:t.coefficients},on:{"change-coef":t.handleChangeCoef,"reset-coef":t.handleResetCoef}}),t._m(0)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"github-link",attrs:{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/miksin/web-firework-simulation"}},[n("img",{attrs:{src:i("9298"),alt:"Github"}})])}],r=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"canvas-container"},[i("canvas",{ref:"night-sky-canvas",on:{mousemove:t.handleMouseMove,click:t.handleMouseClick}},[t._v("\n    Not support canvas\n  ")])])},c=[],h=i("d225"),l=i("b0b4"),u=function(){function t(e,i){Object(h["a"])(this,t),this.x=e,this.y=i}return Object(l["a"])(t,[{key:"valueOf",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"toString",value:function(){return"(".concat(this.x,", ").concat(this.y,")")}},{key:"clone",value:function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}},{key:"move",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"bias",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=Math.random()*t-t,i=Math.random()*t-t;return this.x+=e,this.y+=i,this}},{key:"assign",set:function(t){this.x=t.x,this.y=t.y}}],[{key:"distance",value:function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}}]),t}(),f=u,p=i("308d"),v=i("6bb5"),d=i("4e2b"),m=function(t){function e(){return Object(h["a"])(this,e),Object(p["a"])(this,Object(v["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this}},{key:"length",get:function(){return this.valueOf()}}],[{key:"fromPCS",value:function(t,i){var n=Math.PI*(i/180),s=t*Math.cos(n),a=t*Math.sin(n);return new e(s,a)}},{key:"fromOffset",value:function(t,i,n){var s=Math.atan2(n,i);return new e(t*Math.cos(s),t*Math.sin(s))}}]),e}(f),g=m;function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(t-e)+e)}var y=function(){function t(e,i,n,s){Object(h["a"])(this,t),this.oldPos=new f(e.x,e.y),this.pos=new f(e.x,e.y),this.vel=new g(i.x,i.y),this.acc=new g(n.x,n.y),this.radius=s,this.hue=b(360),this.saturation=100,this.lightness=50,this.alpha=.5}return Object(l["a"])(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.oldPos=this.pos.clone(),this.pos.move(this.vel.clone().scale(t)),this.vel.add(this.acc.clone().scale(t)),this.hue=(this.hue+10)%360}},{key:"draw",value:function(t){t.beginPath(),t.moveTo(this.oldPos.x,this.oldPos.y),t.lineTo(this.pos.x,this.pos.y),t.strokeStyle="hsla(".concat(this.hue,", ").concat(this.saturation,"%, ").concat(this.lightness,"%, ").concat(this.alpha,")"),t.lineWidth=this.radius,t.stroke()}}]),t}(),w=y,k=function(){function t(e,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;Object(h["a"])(this,t),this.particles=[],this.isExplode=!1,this.isDiscard=!1,this.emitTime=new Date,this.gravity=n,this.fragNum=s,this.emitVel=i.clone(),this.emitPos=e.clone(),this.particles.push(new w(this.emitPos,this.emitVel,n.clone(),3))}return Object(l["a"])(t,[{key:"draw",value:function(t){this.particles.forEach((function(e){e.draw(t)}))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new Date;if(!this.isExplode&&(this.particles[0].vel.y>0||e-this.emitTime>1500)){var i=this.particles[0].pos.clone();this.isExplode=!0,this.particles=[];for(var n=0;n<this.fragNum;n+=1){var s=g.fromPCS(b(this.emitVel.valueOf()-15,this.emitVel.valueOf()-30),b(0,360)),a=new w(i,s,this.gravity,2);this.particles.push(a)}}this.isExplode&&e-this.emitTime>5e3&&(this.isDiscard=!0,this.particles=[]),this.particles.forEach((function(e){e.update(t)}))}}]),t}(),A=k,x=function(){function t(e,i){Object(h["a"])(this,t),this.pos=e.clone(),this.angle=-90,this.size=i}return Object(l["a"])(t,[{key:"faceTo",value:function(t,e){var i=t-this.pos.x,n=e-this.pos.y;return this.angle=180*Math.atan2(n,i)/Math.PI,this}},{key:"draw",value:function(t){var e=this.pos.clone().move(g.fromPCS(this.size,this.angle));t.beginPath(),t.moveTo(this.pos.x,this.pos.y),t.lineTo(e.x,e.y),t.strokeStyle="#FFB266",t.lineWidth=this.size/3,t.stroke()}}]),t}(),O=x,C={name:"night-sky",props:{coefficients:Object},data:function(){return{canvasEl:null,ctx:null,fireworks:[],emitter:null}},methods:{setCanvas:function(){this.canvasEl=this.$refs["night-sky-canvas"],this.ctx=this.canvasEl.getContext("2d"),this.ctx.globalCompositeOperation="lighter",this.canvasEl.width=this.canvasEl.parentElement.clientWidth,this.canvasEl.height=this.canvasEl.parentElement.clientHeight},draw:function(){var t=this;window.requestAnimationFrame(this.draw),this.ctx.clearRect(0,0,this.cw,this.ch),this.ctx.font="24px Arial",this.ctx.fillStyle="#FFF",this.ctx.fillText("Mouse Click to fire",10,50),this.fireworks.forEach((function(e){e.draw(t.ctx)})),this.emitter.draw(this.ctx)},update:function(){this.fireworks=this.fireworks.filter((function(t){return!t.isDiscard})),this.fireworks.forEach((function(t){t.update()}))},handleMouseMove:function(t){var e=t.clientX,i=t.clientY;this.emitter.faceTo(e,i)},handleMouseClick:function(t){var e=t.clientX,i=t.clientY,n=e-this.emitPos.x,s=i-this.emitPos.y,a=g.fromOffset(this.emitVel,n,s);this.fireworks.push(new A(this.emitPos,a,this.gravity,this.fragNum))}},mounted:function(){var t=this;this.setCanvas(),this.emitter=new O(this.emitPos,50),setInterval((function(){t.update(.03)}),1e3/30),window.requestAnimationFrame(this.draw)},computed:{cw:function(){return this.canvasEl.width},ch:function(){return this.canvasEl.height},emitPos:function(){return new f(this.canvasEl.width/2,this.canvasEl.height-30)},gravity:function(){return new g(0,this.coefficients.gravity)},emitVel:function(){return this.coefficients.emitVel},fragNum:function(){return this.coefficients.fragNum}}},j=C,M=(i("7176"),i("2877")),E=Object(M["a"])(j,o,c,!1,null,"b024f5f4",null),P=E.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control-panel"},[i("p",{staticClass:"item-title"},[t._v("gravity: "+t._s(t.gravity))]),i("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"5",step:"0.5"},domProps:{value:t.gravity},on:{input:function(e){return e.preventDefault(),t.handleChangeCoef("gravity",e)}}}),i("div",{staticClass:"splitter"}),i("p",{staticClass:"item-title"},[t._v("initial speed: "+t._s(t.emitVel))]),i("input",{staticClass:"slider",attrs:{type:"range",min:"10",max:"100",step:"5"},domProps:{value:t.emitVel},on:{input:function(e){return e.preventDefault(),t.handleChangeCoef("emitVel",e)}}}),i("div",{staticClass:"splitter"}),i("p",{staticClass:"item-title"},[t._v("amount of fragments: "+t._s(t.fragNum))]),i("input",{staticClass:"slider",attrs:{type:"range",min:"10",max:"80",step:"5"},domProps:{value:t.fragNum},on:{input:function(e){return e.preventDefault(),t.handleChangeCoef("fragNum",e)}}}),i("div",{staticClass:"splitter"}),i("div",{staticClass:"splitter"}),i("button",{staticClass:"reset-btn",on:{click:function(e){return t.$emit("reset-coef")}}},[t._v("\n    RESET\n  ")])])},T=[],B={props:{coefficients:Object},computed:{gravity:function(){return this.coefficients.gravity},emitVel:function(){return this.coefficients.emitVel},fragNum:function(){return this.coefficients.fragNum}},methods:{handleChangeCoef:function(t,e){this.$emit("change-coef",t,parseFloat(e.target.value))}}},I=B,N=(i("2725"),Object(M["a"])(I,D,T,!1,null,"795d8a1d",null)),G=N.exports;function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function F(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(i,!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Q={name:"app",components:{NightSky:P,ControlPanel:G},data:function(){return{coefficients:this.defaultCoef()}},methods:{defaultCoef:function(){return{gravity:1,emitVel:35,fragNum:40}},handleChangeCoef:function(t,e){this.coefficients=F({},this.coefficients,Object(r["a"])({},t,e))},handleResetCoef:function(){this.coefficients=this.defaultCoef()}}},Y=Q,R=(i("034f"),Object(M["a"])(Y,s,a,!1,null,null,null)),S=R.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(S)}}).$mount("#app")},"64a9":function(t,e,i){},"6e3c":function(t,e,i){},7176:function(t,e,i){"use strict";var n=i("6e3c"),s=i.n(n);s.a},9298:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII="},c82f:function(t,e,i){}});
//# sourceMappingURL=app.0a733110.js.map